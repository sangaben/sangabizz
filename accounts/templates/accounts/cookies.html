{% extends 'base.html' %}
{% load static %}

{% block title %}Cookie Policy - Sangabiz{% endblock %}

{% block content %}
<div class="container legal-container">
    <!-- Header Section -->
    <div class="legal-header">
        <h1>Cookie Policy</h1>
        <p class="legal-subtitle">Last updated: {% now "F j, Y" %}</p>
        <div class="legal-badge">
            <i class="fas fa-cookie"></i>
            Cookies & Tracking
        </div>
    </div>

    <!-- Quick Navigation -->
    <div class="legal-nav">
        <h3>Quick Navigation</h3>
        <div class="nav-links">
            <a href="#introduction" class="nav-link">1. Introduction</a>
            <a href="#what-are-cookies" class="nav-link">2. What Are Cookies?</a>
            <a href="#types" class="nav-link">3. Types of Cookies We Use</a>
            <a href="#purpose" class="nav-link">4. Purpose of Cookies</a>
            <a href="#third-party" class="nav-link">5. Third-Party Cookies</a>
            <a href="#management" class="nav-link">6. Managing Cookies</a>
            <a href="#specific" class="nav-link">7. Specific Cookies We Use</a>
            <a href="#changes" class="nav-link">8. Policy Changes</a>
            <a href="#contact" class="nav-link">9. Contact Us</a>
        </div>
    </div>

    <!-- Cookie Content -->
    <div class="legal-content">
        <!-- Section 1 -->
        <section id="introduction" class="legal-section">
            <h2>1. Introduction</h2>
            <div class="section-content">
                <p>This Cookie Policy explains how Sangabiz uses cookies and similar technologies to recognize you when you visit our website and use our services.</p>

                <div class="highlight-box">
                    <div class="highlight-icon">
                        <i class="fas fa-info-circle"></i>
                    </div>
                    <div class="highlight-content">
                        <strong>Consent:</strong> By using our Service, you consent to the use of cookies in accordance with this policy. You can manage your preferences at any time.
                    </div>
                </div>

                <h3>1.1 What This Policy Covers</h3>
                <p>This policy covers:</p>
                <ul class="feature-list">
                    <li><i class="fas fa-check"></i> Types of cookies we use</li>
                    <li><i class="fas fa-check"></i> How we use cookies</li>
                    <li><i class="fas fa-check"></i> Your choices regarding cookies</li>
                    <li><i class="fas fa-check"></i> How to manage cookie preferences</li>
                </ul>
            </div>
        </section>

        <!-- Section 2 -->
        <section id="what-are-cookies" class="legal-section">
            <h2>2. What Are Cookies?</h2>
            <div class="section-content">
                <p>Cookies are small text files that are placed on your device when you visit a website.</p>

                <div class="cookie-explanation">
                    <div class="explanation-grid">
                        <div class="explanation-item">
                            <div class="explanation-icon">
                                <i class="fas fa-memory"></i>
                            </div>
                            <div class="explanation-text">
                                <h4>Small Text Files</h4>
                                <p>Cookies are tiny pieces of data stored in your browser</p>
                            </div>
                        </div>
                        <div class="explanation-item">
                            <div class="explanation-icon">
                                <i class="fas fa-laptop"></i>
                            </div>
                            <div class="explanation-text">
                                <h4>Device Storage</h4>
                                <p>Stored on your computer, phone, or tablet</p>
                            </div>
                        </div>
                        <div class="explanation-item">
                            <div class="explanation-icon">
                                <i class="fas fa-redo"></i>
                            </div>
                            <div class="explanation-text">
                                <h4>Website Memory</h4>
                                <p>Help websites remember your preferences and actions</p>
                            </div>
                        </div>
                        <div class="explanation-item">
                            <div class="explanation-icon">
                                <i class="fas fa-clock"></i>
                            </div>
                            <div class="explanation-text">
                                <h4>Session & Persistent</h4>
                                <p>Some expire when you close browser, others last longer</p>
                            </div>
                        </div>
                    </div>
                </div>

                <h3>2.1 How Cookies Work</h3>
                <div class="cookie-process">
                    <div class="process-step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h4>Website Sends Cookie</h4>
                            <p>When you visit Sangabiz, we send cookies to your browser</p>
                        </div>
                    </div>
                    <div class="process-step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h4>Browser Stores Cookie</h4>
                            <p>Your browser stores the cookie on your device</p>
                        </div>
                    </div>
                    <div class="process-step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <h4>Cookie Sent Back</h4>
                            <p>On future visits, your browser sends the cookie back to us</p>
                        </div>
                    </div>
                    <div class="process-step">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <h4>Personalized Experience</h4>
                            <p>We use the information to personalize your experience</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 3 -->
        <section id="types" class="legal-section">
            <h2>3. Types of Cookies We Use</h2>
            <div class="section-content">
                <p>We use different types of cookies for various purposes:</p>

                <div class="cookie-categories">
                    <!-- Essential Cookies -->
                    <div class="category-card essential">
                        <div class="category-header">
                            <div class="category-icon">
                                <i class="fas fa-shield-alt"></i>
                            </div>
                            <div class="category-title">
                                <h3>Essential Cookies</h3>
                                <span class="category-badge required">Required</span>
                            </div>
                        </div>
                        <div class="category-content">
                            <p>These cookies are necessary for the website to function and cannot be switched off.</p>
                            <ul>
                                <li><strong>Authentication:</strong> Keep you logged in</li>
                                <li><strong>Security:</strong> Protect against fraud</li>
                                <li><strong>Load Balancing:</strong> Distribute website traffic</li>
                                <li><strong>Preferences:</strong> Remember your cookie settings</li>
                            </ul>
                            <div class="category-footer">
                                <span class="duration">Session & Persistent</span>
                                <span class="control">Cannot be disabled</span>
                            </div>
                        </div>
                    </div>

                    <!-- Functional Cookies -->
                    <div class="category-card functional">
                        <div class="category-header">
                            <div class="category-icon">
                                <i class="fas fa-cog"></i>
                            </div>
                            <div class="category-title">
                                <h3>Functional Cookies</h3>
                                <span class="category-badge optional">Optional</span>
                            </div>
                        </div>
                        <div class="category-content">
                            <p>These cookies enable enhanced functionality and personalization.</p>
                            <ul>
                                <li><strong>Preferences:</strong> Remember your settings</li>
                                <li><strong>Language:</strong> Remember language choice</li>
                                <li><strong>Volume:</strong> Remember audio volume settings</li>
                                <li><strong>Theme:</strong> Remember dark/light mode</li>
                            </ul>
                            <div class="category-footer">
                                <span class="duration">Up to 1 year</span>
                                <span class="control">Can be disabled</span>
                            </div>
                        </div>
                    </div>

                    <!-- Analytics Cookies -->
                    <div class="category-card analytics">
                        <div class="category-header">
                            <div class="category-icon">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <div class="category-title">
                                <h3>Analytics Cookies</h3>
                                <span class="category-badge optional">Optional</span>
                            </div>
                        </div>
                        <div class="category-content">
                            <p>These cookies help us understand how visitors interact with our website.</p>
                            <ul>
                                <li><strong>Usage Data:</strong> Pages visited and features used</li>
                                <li><strong>Performance:</strong> Website speed and responsiveness</li>
                                <li><strong>Error Tracking:</strong> Identify and fix issues</li>
                                <li><strong>Improvements:</strong> Help us improve the service</li>
                            </ul>
                            <div class="category-footer">
                                <span class="duration">Up to 2 years</span>
                                <span class="control">Can be disabled</span>
                            </div>
                        </div>
                    </div>

                    <!-- Advertising Cookies -->
                    <div class="category-card advertising">
                        <div class="category-header">
                            <div class="category-icon">
                                <i class="fas fa-bullhorn"></i>
                            </div>
                            <div class="category-title">
                                <h3>Advertising Cookies</h3>
                                <span class="category-badge optional">Optional</span>
                            </div>
                        </div>
                        <div class="category-content">
                            <p>These cookies are used to make advertising more relevant to you.</p>
                            <ul>
                                <li><strong>Personalization:</strong> Show relevant ads</li>
                                <li><strong>Frequency Capping:</strong> Limit ad appearances</li>
                                <li><strong>Measurement:</strong> Measure ad effectiveness</li>
                                <li><strong>Retargeting:</strong> Show ads based on your interests</li>
                            </ul>
                            <div class="category-footer">
                                <span class="duration">Up to 1 year</span>
                                <span class="control">Can be disabled</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 4 -->
        <section id="purpose" class="legal-section">
            <h2>4. Purpose of Cookies</h2>
            <div class="section-content">
                <p>We use cookies for several important purposes:</p>

                <div class="purpose-grid">
                    <div class="purpose-item">
                        <div class="purpose-icon">
                            <i class="fas fa-user-check"></i>
                        </div>
                        <div class="purpose-content">
                            <h4>Authentication & Security</h4>
                            <p>Keep you signed in and protect your account</p>
                            <ul>
                                <li>Prevent fraudulent use</li>
                                <li>Secure login sessions</li>
                                <li>Protect against attacks</li>
                            </ul>
                        </div>
                    </div>
                    <div class="purpose-item">
                        <div class="purpose-icon">
                            <i class="fas fa-sliders-h"></i>
                        </div>
                        <div class="purpose-content">
                            <h4>Preferences</h4>
                            <p>Remember your settings and choices</p>
                            <ul>
                                <li>Volume preferences</li>
                                <li>Theme selection</li>
                                <li>Language settings</li>
                                <li>Playback quality</li>
                            </ul>
                        </div>
                    </div>
                    <div class="purpose-item">
                        <div class="purpose-icon">
                            <i class="fas fa-music"></i>
                        </div>
                        <div class="purpose-content">
                            <h4>Music Experience</h4>
                            <p>Enhance your music listening experience</p>
                            <ul>
                                <li>Remember play positions</li>
                                <li>Store playlists</li>
                                <li>Track listening history</li>
                                <li>Recommend new music</li>
                            </ul>
                        </div>
                    </div>
                    <div class="purpose-item">
                        <div class="purpose-icon">
                            <i class="fas fa-chart-bar"></i>
                        </div>
                        <div class="purpose-content">
                            <h4>Analytics & Improvement</h4>
                            <p>Help us understand and improve our service</p>
                            <ul>
                                <li>Feature usage statistics</li>
                                <li>Performance monitoring</li>
                                <li>Error tracking</li>
                                <li>User behavior analysis</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="info-box">
                    <div class="info-icon">
                        <i class="fas fa-lightbulb"></i>
                    </div>
                    <div class="info-content">
                        <strong>Enhanced Experience:</strong> Cookies help us provide a personalized, seamless music experience tailored to your preferences and listening habits.
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 5 -->
        <section id="third-party" class="legal-section">
            <h2>5. Third-Party Cookies</h2>
            <div class="section-content">
                <p>We work with third-party services that may also set cookies:</p>

                <div class="third-party-cookies">
                    <div class="third-party-grid">
                        <div class="third-party-item">
                            <div class="provider-logo">
                                <i class="fab fa-google"></i>
                            </div>
                            <div class="provider-info">
                                <h4>Google Analytics</h4>
                                <p>Website analytics and performance tracking</p>
                                <span class="provider-type">Analytics</span>
                            </div>
                            <div class="provider-links">
                                <a href="https://policies.google.com/technologies/cookies" target="_blank" class="policy-link">
                                    <i class="fas fa-external-link-alt"></i>
                                    Cookie Policy
                                </a>
                            </div>
                        </div>
                        <div class="third-party-item">
                            <div class="provider-logo">
                                <i class="fab fa-facebook"></i>
                            </div>
                            <div class="provider-info">
                                <h4>Facebook Pixel</h4>
                                <p>Advertising and conversion tracking</p>
                                <span class="provider-type">Advertising</span>
                            </div>
                            <div class="provider-links">
                                <a href="https://www.facebook.com/policies/cookies/" target="_blank" class="policy-link">
                                    <i class="fas fa-external-link-alt"></i>
                                    Cookie Policy
                                </a>
                            </div>
                        </div>
                        <div class="third-party-item">
                            <div class="provider-logo">
                                <i class="fab fa-stripe"></i>
                            </div>
                            <div class="provider-info">
                                <h4>Stripe</h4>
                                <p>Payment processing and security</p>
                                <span class="provider-type">Essential</span>
                            </div>
                            <div class="provider-links">
                                <a href="https://stripe.com/cookies-policy/legal" target="_blank" class="policy-link">
                                    <i class="fas fa-external-link-alt"></i>
                                    Cookie Policy
                                </a>
                            </div>
                        </div>
                        <div class="third-party-item">
                            <div class="provider-logo">
                                <i class="fab fa-youtube"></i>
                            </div>
                            <div class="provider-info">
                                <h4>YouTube</h4>
                                <p>Video content embedding and playback</p>
                                <span class="provider-type">Functional</span>
                            </div>
                            <div class="provider-links">
                                <a href="https://policies.google.com/technologies/cookies" target="_blank" class="policy-link">
                                    <i class="fas fa-external-link-alt"></i>
                                    Cookie Policy
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="warning-box">
                    <div class="warning-icon">
                        <i class="fas fa-external-link-alt"></i>
                    </div>
                    <div class="warning-content">
                        <strong>Third-Party Policies:</strong> These third-party services have their own privacy and cookie policies. We recommend reviewing them for more information.
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 6 -->
        <section id="management" class="legal-section">
            <h2>6. Managing Cookies</h2>
            <div class="section-content">
                <p>You have several options for managing cookies:</p>

                <div class="management-options">
                    <div class="option-card">
                        <div class="option-icon">
                            <i class="fas fa-cogs"></i>
                        </div>
                        <div class="option-content">
                            <h4>Browser Settings</h4>
                            <p>Most browsers allow you to control cookies through their settings:</p>
                            <div class="browser-instructions">
                                <div class="browser-item">
                                    <i class="fab fa-chrome"></i>
                                    <strong>Chrome:</strong> Settings → Privacy and Security → Cookies
                                </div>
                                <div class="browser-item">
                                    <i class="fab fa-firefox"></i>
                                    <strong>Firefox:</strong> Options → Privacy & Security → Cookies
                                </div>
                                <div class="browser-item">
                                    <i class="fab fa-safari"></i>
                                    <strong>Safari:</strong> Preferences → Privacy → Cookies
                                </div>
                                <div class="browser-item">
                                    <i class="fab fa-edge"></i>
                                    <strong>Edge:</strong> Settings → Privacy, search, and services → Cookies
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="option-card">
                        <div class="option-icon">
                            <i class="fas fa-mobile-alt"></i>
                        </div>
                        <div class="option-content">
                            <h4>Mobile Devices</h4>
                            <p>On mobile devices, you can manage cookies through:</p>
                            <ul>
                                <li>Browser settings in your mobile browser</li>
                                <li>Device settings for app-specific cookies</li>
                                <li>Privacy settings in your mobile OS</li>
                            </ul>
                        </div>
                    </div>

                    <div class="option-card">
                        <div class="option-icon">
                            <i class="fas fa-trash-alt"></i>
                        </div>
                        <div class="option-content">
                            <h4>Cookie Deletion</h4>
                            <p>You can delete existing cookies at any time:</p>
                            <ul>
                                <li>Clear browser history and cookies</li>
                                <li>Use browser's "Clear Recent History" feature</li>
                                <li>Use privacy-focused browser extensions</li>
                            </ul>
                        </div>
                    </div>

                    <div class="option-card">
                        <div class="option-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <div class="option-content">
                            <h4>Opt-Out Tools</h4>
                            <p>Industry tools for managing advertising cookies:</p>
                            <ul>
                                <li><a href="https://optout.aboutads.info/" target="_blank">Digital Advertising Alliance</a></li>
                                <li><a href="https://www.youronlinechoices.com/" target="_blank">Your Online Choices</a></li>
                                <li><a href="https://www.networkadvertising.org/choices/" target="_blank">NAI Consumer Opt-Out</a></li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="warning-box">
                    <div class="warning-icon">
                        <i class="fas fa-exclamation-triangle"></i>
                    </div>
                    <div class="warning-content">
                        <strong>Important Note:</strong> Disabling cookies may affect the functionality of our Service. Essential features like login and playback may not work properly without cookies.
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 7 -->
        <section id="specific" class="legal-section">
            <h2>7. Specific Cookies We Use</h2>
            <div class="section-content">
                <p>Here's a detailed list of the main cookies we use:</p>

                <div class="cookie-table-container">
                    <table class="cookie-table">
                        <thead>
                            <tr>
                                <th>Cookie Name</th>
                                <th>Type</th>
                                <th>Purpose</th>
                                <th>Duration</th>
                                <th>Essential</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>sessionid</code></td>
                                <td>Essential</td>
                                <td>Maintain your login session</td>
                                <td>Session</td>
                                <td><i class="fas fa-check required"></i></td>
                            </tr>
                            <tr>
                                <td><code>csrftoken</code></td>
                                <td>Essential</td>
                                <td>Protect against cross-site request forgery</td>
                                <td>1 year</td>
                                <td><i class="fas fa-check required"></i></td>
                            </tr>
                            <tr>
                                <td><code>preferences</code></td>
                                <td>Functional</td>
                                <td>Store your theme and language preferences</td>
                                <td>1 year</td>
                                <td><i class="fas fa-times optional"></i></td>
                            </tr>
                            <tr>
                                <td><code>volume</code></td>
                                <td>Functional</td>
                                <td>Remember your audio volume settings</td>
                                <td>1 year</td>
                                <td><i class="fas fa-times optional"></i></td>
                            </tr>
                            <tr>
                                <td><code>playback_position</code></td>
                                <td>Functional</td>
                                <td>Remember where you left off in a song</td>
                                <td>Session</td>
                                <td><i class="fas fa-times optional"></i></td>
                            </tr>
                            <tr>
                                <td><code>_ga</code></td>
                                <td>Analytics</td>
                                <td>Google Analytics - distinguish users</td>
                                <td>2 years</td>
                                <td><i class="fas fa-times optional"></i></td>
                            </tr>
                            <tr>
                                <td><code>_gid</code></td>
                                <td>Analytics</td>
                                <td>Google Analytics - distinguish users</td>
                                <td>24 hours</td>
                                <td><i class="fas fa-times optional"></i></td>
                            </tr>
                            <tr>
                                <td><code>_fbp</code></td>
                                <td>Advertising</td>
                                <td>Facebook - store and track visits</td>
                                <td>3 months</td>
                                <td><i class="fas fa-times optional"></i></td>
                            </tr>
                            <tr>
                                <td><code>cookie_consent</code></td>
                                <td>Essential</td>
                                <td>Remember your cookie preferences</td>
                                <td>1 year</td>
                                <td><i class="fas fa-check required"></i></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="table-legend">
                    <div class="legend-item">
                        <i class="fas fa-check required"></i>
                        <span>Essential - Required for basic functionality</span>
                    </div>
                    <div class="legend-item">
                        <i class="fas fa-times optional"></i>
                        <span>Optional - Can be disabled</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 8 -->
        <section id="changes" class="legal-section">
            <h2>8. Changes to This Policy</h2>
            <div class="section-content">
                <p>We may update this Cookie Policy from time to time.</p>

                <h3>8.1 Notification of Changes</h3>
                <p>We will notify you of any material changes by:</p>
                <ul>
                    <li>Displaying a notice on our website</li>
                    <li>Sending an email to registered users</li>
                    <li>Updating the "Last updated" date</li>
                </ul>

                <h3>8.2 Your Continued Use</h3>
                <p>Your continued use of our Service after changes constitutes acceptance of the updated policy.</p>

                <h3>8.3 Reviewing Changes</h3>
                <p>We encourage you to review this policy periodically to stay informed about how we use cookies.</p>
            </div>
        </section>

        <!-- Section 9 -->
        <section id="contact" class="legal-section">
            <h2>9. Contact Us</h2>
            <div class="section-content">
                <p>If you have any questions about this Cookie Policy, please contact us:</p>

                <div class="contact-grid">
                    <div class="contact-method">
                        <div class="contact-icon">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <div class="contact-details">
                            <h4>Email</h4>
                            <p>privacy@sangabiz.com</p>
                        </div>
                    </div>
                    <div class="contact-method">
                        <div class="contact-icon">
                            <i class="fas fa-phone"></i>
                        </div>
                        <div class="contact-details">
                            <h4>Phone</h4>
                            <p>+1 (555) 123-4567</p>
                        </div>
                    </div>
                    <div class="contact-method">
                        <div class="contact-icon">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <div class="contact-details">
                            <h4>Address</h4>
                            <p>123 Music Street<br>Digital City, DC 12345</p>
                        </div>
                    </div>
                    <div class="contact-method">
                        <div class="contact-icon">
                            <i class="fas fa-user-tie"></i>
                        </div>
                        <div class="contact-details">
                            <h4>Data Protection Officer</h4>
                            <p>dpo@sangabiz.com</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Cookie Preferences Section -->
        <div class="preferences-section">
            <div class="preferences-content">
                <h3>Cookie Preferences</h3>
                <p>Manage your cookie settings for Sangabiz:</p>
                
                <div class="preferences-options">
                    <div class="preference-item">
                        <div class="preference-header">
                            <h4>Essential Cookies <span class="badge required">Always Active</span></h4>
                            <p>Required for the website to function properly</p>
                        </div>
                        <div class="preference-control">
                            <label class="toggle disabled">
                                <input type="checkbox" checked disabled>
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>

                    <div class="preference-item">
                        <div class="preference-header">
                            <h4>Functional Cookies</h4>
                            <p>Remember your preferences and settings</p>
                        </div>
                        <div class="preference-control">
                            <label class="toggle">
                                <input type="checkbox" id="functional-cookies" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>

                    <div class="preference-item">
                        <div class="preference-header">
                            <h4>Analytics Cookies</h4>
                            <p>Help us improve our website and services</p>
                        </div>
                        <div class="preference-control">
                            <label class="toggle">
                                <input type="checkbox" id="analytics-cookies" checked>
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>

                    <div class="preference-item">
                        <div class="preference-header">
                            <h4>Advertising Cookies</h4>
                            <p>Show you relevant advertisements</p>
                        </div>
                        <div class="preference-control">
                            <label class="toggle">
                                <input type="checkbox" id="advertising-cookies">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                </div>

                <div class="preferences-buttons">
                    <button class="primary-btn" id="save-preferences">
                        <i class="fas fa-save"></i>
                        Save Preferences
                    </button>
                    <button class="secondary-btn" id="accept-all">
                        <i class="fas fa-check-double"></i>
                        Accept All Cookies
                    </button>
                    <button class="secondary-btn" id="reject-all">
                        <i class="fas fa-times"></i>
                        Reject Non-Essential
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
/* Cookie-specific styles */
.cookie-explanation {
    margin: 25px 0;
}

.explanation-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
    margin: 20px 0;
}

.explanation-item {
    display: flex;
    align-items: center;
    gap: 15px;
    padding: 20px;
    background: rgba(255,255,255,0.05);
    border-radius: 12px;
    text-align: center;
    transition: var(--transition);
}

.explanation-item:hover {
    background: rgba(255,255,255,0.1);
    transform: translateY(-2px);
}

.explanation-icon {
    width: 60px;
    height: 60px;
    background: linear-gradient(135deg, var(--primary), var(--secondary));
    border-radius: 15px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    color: white;
    margin: 0 auto;
}

.explanation-text h4 {
    color: var(--light);
    margin: 10px 0 5px 0;
    font-size: 1.1rem;
}

.explanation-text p {
    color: var(--gray);
    margin: 0;
    font-size: 0.9rem;
}

/* Cookie Process */
.cookie-process {
    margin: 30px 0;
}

.process-step {
    display: flex;
    align-items: center;
    gap: 20px;
    margin-bottom: 25px;
    padding: 20px;
    background: rgba(255,255,255,0.05);
    border-radius: 12px;
    border-left: 4px solid var(--primary);
}

.step-number {
    width: 40px;
    height: 40px;
    background: linear-gradient(135deg, var(--primary), var(--secondary));
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: 700;
    font-size: 1.2rem;
    flex-shrink: 0;
}

.step-content h4 {
    color: var(--light);
    margin-bottom: 5px;
    font-size: 1.2rem;
}

.step-content p {
    color: var(--gray);
    margin: 0;
}

/* Cookie Categories */
.cookie-categories {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 25px;
    margin: 25px 0;
}

.category-card {
    background: rgba(255,255,255,0.05);
    border-radius: 15px;
    overflow: hidden;
    border: 2px solid;
    transition: var(--transition);
}

.category-card:hover {
    transform: translateY(-5px);
}

.category-card.essential { border-color: var(--primary); }
.category-card.functional { border-color: #17a2b8; }
.category-card.analytics { border-color: #ffc107; }
.category-card.advertising { border-color: #6f42c1; }

.category-header {
    display: flex;
    align-items: center;
    gap: 15px;
    padding: 20px;
    background: rgba(255,255,255,0.1);
}

.category-icon {
    width: 50px;
    height: 50px;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    color: white;
    flex-shrink: 0;
}

.category-card.essential .category-icon { background: var(--primary); }
.category-card.functional .category-icon { background: #17a2b8; }
.category-card.analytics .category-icon { background: #ffc107; }
.category-card.advertising .category-icon { background: #6f42c1; }

.category-title {
    flex: 1;
}

.category-title h3 {
    color: var(--light);
    margin: 0 0 5px 0;
    font-size: 1.3rem;
}

.category-badge {
    padding: 4px 8px;
    border-radius: 12px;
    font-size: 11px;
    font-weight: 700;
    text-transform: uppercase;
}

.category-badge.required {
    background: var(--primary);
    color: white;
}

.category-badge.optional {
    background: rgba(255,255,255,0.2);
    color: var(--gray);
}

.category-content {
    padding: 20px;
}

.category-content p {
    color: var(--gray);
    margin-bottom: 15px;
}

.category-content ul {
    list-style: none;
    margin: 15px 0;
}

.category-content li {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 6px 0;
    color: var(--gray);
    border-bottom: 1px solid rgba(255,255,255,0.1);
}

.category-content li:last-child {
    border-bottom: none;
}

.category-content li strong {
    color: var(--light);
}

.category-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 15px;
    padding-top: 15px;
    border-top: 1px solid rgba(255,255,255,0.1);
    font-size: 12px;
    color: var(--dark-gray);
}

/* Purpose Grid */
.purpose-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 25px;
    margin: 25px 0;
}

.purpose-item {
    background: rgba(255,255,255,0.05);
    border-radius: 15px;
    padding: 25px;
    border-left: 4px solid var(--primary);
    transition: var(--transition);
}

.purpose-item:hover {
    background: rgba(255,255,255,0.1);
    transform: translateY(-2px);
}

.purpose-icon {
    width: 60px;
    height: 60px;
    background: linear-gradient(135deg, var(--primary), var(--secondary));
    border-radius: 15px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    color: white;
    margin-bottom: 15px;
}

.purpose-content h4 {
    color: var(--light);
    margin-bottom: 10px;
    font-size: 1.2rem;
}

.purpose-content p {
    color: var(--gray);
    margin-bottom: 15px;
}

.purpose-content ul {
    list-style: none;
    margin: 0;
}

.purpose-content li {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 5px 0;
    color: var(--gray);
}

.purpose-content li::before {
    content: '•';
    color: var(--primary);
    font-weight: bold;
}

/* Third Party Cookies */
.third-party-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin: 25px 0;
}

.third-party-item {
    display: flex;
    align-items: center;
    gap: 15px;
    padding: 20px;
    background: rgba(255,255,255,0.05);
    border-radius: 12px;
    border: 1px solid rgba(255,255,255,0.1);
    transition: var(--transition);
}

.third-party-item:hover {
    background: rgba(255,255,255,0.1);
    transform: translateY(-2px);
}

.provider-logo {
    width: 50px;
    height: 50px;
    background: linear-gradient(135deg, var(--primary), var(--secondary));
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    color: white;
    flex-shrink: 0;
}

.provider-info {
    flex: 1;
}

.provider-info h4 {
    color: var(--light);
    margin: 0 0 5px 0;
    font-size: 1.1rem;
}

.provider-info p {
    color: var(--gray);
    margin: 0 0 8px 0;
    font-size: 0.9rem;
}

.provider-type {
    background: rgba(255,255,255,0.1);
    color: var(--gray);
    padding: 2px 8px;
    border-radius: 10px;
    font-size: 10px;
    font-weight: 600;
    text-transform: uppercase;
}

.policy-link {
    display: inline-flex;
    align-items: center;
    gap: 5px;
    color: var(--primary);
    text-decoration: none;
    font-size: 12px;
    font-weight: 600;
    transition: var(--transition);
}

.policy-link:hover {
    color: var(--primary-dark);
}

/* Management Options */
.management-options {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 25px;
    margin: 25px 0;
}

.option-card {
    background: rgba(255,255,255,0.05);
    border-radius: 15px;
    padding: 25px;
    border: 1px solid rgba(255,255,255,0.1);
    transition: var(--transition);
}

.option-card:hover {
    background: rgba(255,255,255,0.1);
    transform: translateY(-2px);
}

.option-icon {
    width: 60px;
    height: 60px;
    background: linear-gradient(135deg, var(--primary), var(--secondary));
    border-radius: 15px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    color: white;
    margin-bottom: 15px;
}

.option-content h4 {
    color: var(--light);
    margin-bottom: 10px;
    font-size: 1.2rem;
}

.option-content p {
    color: var(--gray);
    margin-bottom: 15px;
}

.browser-instructions {
    margin: 15px 0;
}

.browser-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 8px 0;
    color: var(--gray);
    border-bottom: 1px solid rgba(255,255,255,0.1);
}

.browser-item:last-child {
    border-bottom: none;
}

.browser-item i {
    width: 20px;
    font-size: 16px;
}

.browser-item strong {
    color: var(--light);
}

.option-content ul {
    list-style: none;
    margin: 15px 0;
}

.option-content li {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 6px 0;
    color: var(--gray);
}

.option-content li::before {
    content: '•';
    color: var(--primary);
    font-weight: bold;
}

.option-content a {
    color: var(--primary);
    text-decoration: none;
}

.option-content a:hover {
    text-decoration: underline;
}

/* Cookie Table */
.cookie-table-container {
    overflow-x: auto;
    margin: 25px 0;
    background: rgba(255,255,255,0.05);
    border-radius: 12px;
    border: 1px solid rgba(255,255,255,0.1);
}

.cookie-table {
    width: 100%;
    border-collapse: collapse;
    min-width: 600px;
}

.cookie-table th {
    background: rgba(255,255,255,0.1);
    color: var(--light);
    padding: 15px;
    text-align: left;
    font-weight: 600;
    border-bottom: 2px solid rgba(255,255,255,0.1);
}

.cookie-table td {
    padding: 12px 15px;
    border-bottom: 1px solid rgba(255,255,255,0.05);
    color: var(--gray);
}

.cookie-table tr:hover {
    background: rgba(255,255,255,0.02);
}

.cookie-table code {
    background: rgba(255,255,255,0.1);
    padding: 2px 6px;
    border-radius: 4px;
    font-family: 'Courier New', monospace;
    font-size: 0.9em;
    color: var(--light);
}

.required {
    color: var(--primary);
}

.optional {
    color: var(--dark-gray);
}

.table-legend {
    display: flex;
    gap: 20px;
    margin-top: 15px;
    flex-wrap: wrap;
}

.legend-item {
    display: flex;
    align-items: center;
    gap: 8px;
    color: var(--gray);
    font-size: 14px;
}

/* Preferences Section */
.preferences-section {
    background: linear-gradient(135deg, var(--primary), var(--secondary));
    border-radius: 20px;
    padding: 40px;
    margin-top: 50px;
    color: white;
    position: relative;
    overflow: hidden;
}

.preferences-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: url('{% static "images/cookie-pattern.png" %}') repeat;
    opacity: 0.1;
}

.preferences-content {
    position: relative;
    z-index: 2;
}

.preferences-content h3 {
    font-size: 2rem;
    margin-bottom: 10px;
}

.preferences-content > p {
    font-size: 1.1rem;
    opacity: 0.9;
    margin-bottom: 30px;
}

.preferences-options {
    margin-bottom: 30px;
}

.preference-item {
    display: flex;
    align-items: center;
    gap: 20px;
    padding: 20px;
    background: rgba(255,255,255,0.1);
    border-radius: 12px;
    margin-bottom: 15px;
    backdrop-filter: blur(10px);
}

.preference-item:last-child {
    margin-bottom: 0;
}

.preference-header {
    flex: 1;
}

.preference-header h4 {
    margin: 0 0 5px 0;
    font-size: 1.2rem;
    display: flex;
    align-items: center;
    gap: 10px;
}

.preference-header p {
    margin: 0;
    opacity: 0.8;
    font-size: 0.9rem;
}

.badge {
    padding: 2px 8px;
    border-radius: 8px;
    font-size: 10px;
    font-weight: 700;
    text-transform: uppercase;
}

.badge.required {
    background: rgba(255,255,255,0.3);
}

/* Toggle Switch */
.toggle {
    position: relative;
    display: inline-block;
    width: 50px;
    height: 24px;
}

.toggle input {
    opacity: 0;
    width: 0;
    height: 0;
}

.slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(255,255,255,0.3);
    transition: .4s;
    border-radius: 24px;
}

.slider:before {
    position: absolute;
    content: "";
    height: 16px;
    width: 16px;
    left: 4px;
    bottom: 4px;
    background-color: white;
    transition: .4s;
    border-radius: 50%;
}

input:checked + .slider {
    background-color: var(--primary);
}

input:checked + .slider:before {
    transform: translateX(26px);
}

.toggle.disabled {
    opacity: 0.6;
}

.toggle.disabled .slider {
    cursor: not-allowed;
}

.preferences-buttons {
    display: flex;
    gap: 15px;
    flex-wrap: wrap;
}

.preferences-buttons .primary-btn,
.preferences-buttons .secondary-btn {
    padding: 12px 24px;
    border-radius: 25px;
    font-weight: 600;
    text-decoration: none;
    transition: var(--transition);
    border: none;
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    font-size: 1rem;
}

.preferences-buttons .primary-btn {
    background: white;
    color: var(--dark);
}

.preferences-buttons .primary-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(255,255,255,0.3);
}

.preferences-buttons .secondary-btn {
    background: rgba(255,255,255,0.2);
    color: white;
    border: 2px solid rgba(255,255,255,0.3);
}

.preferences-buttons .secondary-btn:hover {
    background: rgba(255,255,255,0.3);
    transform: translateY(-2px);
}

/* Responsive Design */
@media (max-width: 768px) {
    .explanation-grid {
        grid-template-columns: repeat(2, 1fr);
    }

    .cookie-categories {
        grid-template-columns: 1fr;
    }

    .purpose-grid {
        grid-template-columns: 1fr;
    }

    .third-party-grid {
        grid-template-columns: 1fr;
    }

    .management-options {
        grid-template-columns: 1fr;
    }

    .process-step {
        flex-direction: column;
        text-align: center;
        gap: 15px;
    }

    .third-party-item {
        flex-direction: column;
        text-align: center;
        gap: 15px;
    }

    .preference-item {
        flex-direction: column;
        text-align: center;
        gap: 15px;
    }

    .preferences-buttons {
        flex-direction: column;
    }

    .preferences-buttons .primary-btn,
    .preferences-buttons .secondary-btn {
        width: 100%;
        justify-content: center;
    }
}

@media (max-width: 480px) {
    .explanation-grid {
        grid-template-columns: 1fr;
    }

    .preferences-section {
        padding: 25px 20px;
    }

    .category-header {
        flex-direction: column;
        text-align: center;
        gap: 10px;
    }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Smooth scrolling for navigation links
    const navLinks = document.querySelectorAll('.nav-link');
    
    navLinks.forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            const targetId = this.getAttribute('href');
            const targetSection = document.querySelector(targetId);
            
            if (targetSection) {
                const offsetTop = targetSection.offsetTop - 100;
                window.scrollTo({
                    top: offsetTop,
                    behavior: 'smooth'
                });
            }
        });
    });

    // Add active state to navigation links based on scroll position
    const sections = document.querySelectorAll('.legal-section');
    const navLinksArray = Array.from(navLinks);

    function updateActiveNavLink() {
        let currentSection = '';
        
        sections.forEach(section => {
            const sectionTop = section.offsetTop - 150;
            const sectionHeight = section.clientHeight;
            
            if (window.scrollY >= sectionTop && window.scrollY < sectionTop + sectionHeight) {
                currentSection = '#' + section.getAttribute('id');
            }
        });

        navLinksArray.forEach(link => {
            link.classList.remove('active');
            if (link.getAttribute('href') === currentSection) {
                link.classList.add('active');
                link.style.background = 'rgba(29, 185, 84, 0.2)';
                link.style.borderColor = 'var(--primary)';
                link.style.color = 'var(--light)';
            }
        });
    }

    // Update active link on scroll
    window.addEventListener('scroll', updateActiveNavLink);
    
    // Initial update
    updateActiveNavLink();

    // Cookie Preferences Management
    const functionalCookies = document.getElementById('functional-cookies');
    const analyticsCookies = document.getElementById('analytics-cookies');
    const advertisingCookies = document.getElementById('advertising-cookies');
    const savePreferencesBtn = document.getElementById('save-preferences');
    const acceptAllBtn = document.getElementById('accept-all');
    const rejectAllBtn = document.getElementById('reject-all');

    // Load saved preferences
    function loadPreferences() {
        const preferences = JSON.parse(localStorage.getItem('cookiePreferences') || '{}');
        
        if (preferences.functional !== undefined) {
            functionalCookies.checked = preferences.functional;
        }
        if (preferences.analytics !== undefined) {
            analyticsCookies.checked = preferences.analytics;
        }
        if (preferences.advertising !== undefined) {
            advertisingCookies.checked = preferences.advertising;
        }
    }

    // Save preferences
    function savePreferences() {
        const preferences = {
            functional: functionalCookies.checked,
            analytics: analyticsCookies.checked,
            advertising: advertisingCookies.checked,
            timestamp: new Date().toISOString()
        };
        
        localStorage.setItem('cookiePreferences', JSON.stringify(preferences));
        
        // Show confirmation
        showNotification('Cookie preferences saved successfully!', 'success');
        
        // Update cookie consent
        updateCookieConsent(preferences);
    }

    // Accept all cookies
    function acceptAllCookies() {
        functionalCookies.checked = true;
        analyticsCookies.checked = true;
        advertisingCookies.checked = true;
        savePreferences();
    }

    // Reject non-essential cookies
    function rejectNonEssentialCookies() {
        functionalCookies.checked = false;
        analyticsCookies.checked = false;
        advertisingCookies.checked = false;
        savePreferences();
    }

    // Update cookie consent in localStorage
    function updateCookieConsent(preferences) {
        const consent = {
            essential: true, // Always true
            functional: preferences.functional,
            analytics: preferences.analytics,
            advertising: preferences.advertising,
            consented: true,
            timestamp: new Date().toISOString()
        };
        
        localStorage.setItem('cookieConsent', JSON.stringify(consent));
    }

    // Show notification
    function showNotification(message, type = 'info') {
        // Create notification element
        const notification = document.createElement('div');
        notification.className = `cookie-notification ${type}`;
        notification.innerHTML = `
            <div class="notification-content">
                <i class="fas fa-${type === 'success' ? 'check-circle' : 'info-circle'}"></i>
                <span>${message}</span>
                <button class="notification-close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        `;

        // Add styles
        if (!document.querySelector('.cookie-notification-styles')) {
            const styles = document.createElement('style');
            styles.className = 'cookie-notification-styles';
            styles.textContent = `
                .cookie-notification {
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    background: var(--card-bg);
                    border: 1px solid rgba(255,255,255,0.1);
                    border-radius: 12px;
                    padding: 15px 20px;
                    box-shadow: 0 8px 32px rgba(0,0,0,0.3);
                    z-index: 10000;
                    backdrop-filter: blur(10px);
                    transform: translateX(400px);
                    transition: transform 0.3s ease;
                    max-width: 400px;
                }
                .cookie-notification.show {
                    transform: translateX(0);
                }
                .cookie-notification.success {
                    border-left: 4px solid var(--primary);
                }
                .notification-content {
                    display: flex;
                    align-items: center;
                    gap: 10px;
                    color: var(--light);
                }
                .notification-content i:first-child {
                    color: var(--primary);
                    font-size: 18px;
                }
                .notification-content span {
                    flex: 1;
                    font-size: 14px;
                }
                .notification-close {
                    background: none;
                    border: none;
                    color: var(--gray);
                    cursor: pointer;
                    padding: 5px;
                    border-radius: 4px;
                    transition: var(--transition);
                }
                .notification-close:hover {
                    background: rgba(255,255,255,0.1);
                    color: var(--light);
                }
                @media (max-width: 480px) {
                    .cookie-notification {
                        left: 10px;
                        right: 10px;
                        max-width: none;
                    }
                }
            `;
            document.head.appendChild(styles);
        }

        document.body.appendChild(notification);

        // Show notification
        setTimeout(() => notification.classList.add('show'), 100);

        // Auto-remove after 5 seconds
        setTimeout(() => {
            notification.classList.remove('show');
            setTimeout(() => notification.remove(), 300);
        }, 5000);

        // Close button
        notification.querySelector('.notification-close').addEventListener('click', () => {
            notification.classList.remove('show');
            setTimeout(() => notification.remove(), 300);
        });
    }

    // Event listeners
    savePreferencesBtn.addEventListener('click', savePreferences);
    acceptAllBtn.addEventListener('click', acceptAllCookies);
    rejectAllBtn.addEventListener('click', rejectNonEssentialCookies);

    // Load preferences on page load
    loadPreferences();

    // Add fade-in animation to sections
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver(function(entries) {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.opacity = '1';
                entry.target.style.transform = 'translateY(0)';
            }
        });
    }, observerOptions);

    sections.forEach(section => {
        section.style.opacity = '0';
        section.style.transform = 'translateY(20px)';
        section.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
        observer.observe(section);
    });
});
</script>
{% endblock %}